<!DOCTYPE html>
<html lang="en" ng-app="FitnessApp" ng-cloak>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=1080, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>App</title>
  <link rel="icon" type="image/x-icon" href="ico.ico">

  <script src="./sup/angular.min.js"></script>
  <script src="./app.js"></script>

  <link rel="stylesheet" href="./sup/styles.css">

  <style>
    input:focus {
      outline: none;
      border: none;
      box-shadow: none;
    }

    input {
      border: none;
    }

    @font-face {
      font-family: "AvantGardeBold";
      src: url("./font/ITC Avant Garde Gothic LT Bold.otf") format("opentype");
      font-weight: bold;
      font-style: normal;
    }

    @font-face {
      font-family: 'Berkshire Swash';
      src: url('fonts/berkshireswash-regular.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }

    @font-face {
      font-family: 'Bulgaria Dreams';
      src: url('fonts/BulgariaDreamsRegular-ALOl2.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }

    @font-face {
      font-family: 'Montserrat';
      src: url('fonts/Montserrat-Italic-VariableFont_wght.ttf') format('truetype');
      font-weight: 100 900;
      /* variable range */
      font-style: italic;
    }


    body {
      font-family: "AvantGardeBold", sans-serif;
      overflow: hidden;
    }

    .game-area {
      position: absolute;
      width: 990px;
      height: 1840px;
      top: 41px;
      left: 46px;
      overflow: hidden;
      border-radius: 69px;
    }

    .swipe-card.correct-answer {
      border: 8px solid #22c55e;
      border-radius: 20px;
      box-shadow: inset 0 0 0 1000px rgba(34, 197, 94, 0.25);
    }

    .swipe-card.wrong-answer {
      border: 8px solid #ef4444;
      border-radius: 20px;
      box-shadow: inset 0 0 0 1000px rgba(239, 68, 68, 0.25);
    }

    .swipe-card {
      position: absolute;
      left: 50%;
      top: 75%;
      transform: translate(-50%, -50%);
      width: 550px;
      cursor: grab;
      transition: none;
      user-select: none;
      -webkit-user-select: none;
      z-index: 10;
    }

    .swipe-card.animating {
      transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .swipe-card.swipe-left {
      transform: translate(-50%, -50%) translateX(-220px) rotate(-12deg) scale(0.75);
      opacity: 0;
    }

    .swipe-card.swipe-right {
      transform: translate(-50%, -50%) translateX(220px) rotate(12deg) scale(0.75);
      opacity: 0;
    }

    .side-indicator {
      position: absolute;
      top: 43%;
      transform: translateY(-50%);
      z-index: 5;
      cursor: pointer;
    }

    .side-indicator.left {
      left: 15px;
      width: 148px;
    }

    .side-indicator.right {
      right: 20px;
      width: 115px;
    }

    .timer-display {
      font-family: 'Montserrat', sans-serif;
      position: absolute;
      top: 95px;
      left: 447px;
      font-size: 68px;
      color: white;
      text-align: center;
      font-weight: bold;
    }

    .score-display {
      font-family: 'Montserrat', sans-serif;
      position: absolute;
      top: 339px;
      left: 453px;
      font-size: 50px;
      color: white;
      text-align: center;
    }

    /* Page 1 sparkle overlay */
    .sparkle-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 1920px;
      pointer-events: none;
      overflow: hidden;
    }

    .sparkle {
      position: absolute;
      width: 12px;
      height: 12px;
      background: white;
      border-radius: 50%;
      opacity: 0;
      animation: sparkle 2.5s ease-in-out infinite;
    }

    .sparkle::before,
    .sparkle::after {
      content: '';
      position: absolute;
      background: white;
      border-radius: 50%;
    }

    .sparkle::before {
      width: 100%;
      height: 3px;
      top: 50%;
      left: 0;
      transform: translateY(-50%);
    }

    .sparkle::after {
      width: 3px;
      height: 100%;
      left: 50%;
      top: 0;
      transform: translateX(-50%);
    }

    .progress-wrapper {
      position: relative;
      width: 80%;
      max-width: 600px;
      height: 24px;
      margin: 40px 0;
    }

    .progress-track {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #ffffff;
      border-radius: 20px;
    }

    /* UPDATED: Bar color */
    .progress-fill {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      background-color: #ae2761;
      /* The new bar color */
      border-radius: 20px 0 0 20px;
      transition: width 0.3s ease;
    }

    .progress-fill.full {
      border-radius: 20px;
    }

    .heart-marker {
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%) rotate(-30deg);
      width: 55px;
      /* Slightly larger to match the image overlap */
      height: 55px;
      z-index: 10;
      transition: left 0.3s ease;
      pointer-events: none;
    }

    /* UPDATED: Heart color */
    .heart-marker path {
      fill: #921b51;
      /* The new heart color */
    }

    @keyframes sparkle {

      0%,
      100% {
        opacity: 0;
        transform: scale(0.3) rotate(0deg);
      }

      50% {
        opacity: 1;
        transform: scale(1) rotate(180deg);
      }
    }

    .sparkle:nth-child(1) {
      top: 12%;
      left: 15%;
      animation-delay: 0s;
      width: 14px;
      height: 14px;
    }

    .sparkle:nth-child(2) {
      top: 30%;
      left: 80%;
      animation-delay: 0.4s;
      width: 10px;
      height: 10px;
    }

    .sparkle:nth-child(3) {
      top: 55%;
      left: 25%;
      animation-delay: 0.8s;
      width: 16px;
      height: 16px;
    }

    .sparkle:nth-child(4) {
      top: 70%;
      left: 70%;
      animation-delay: 1.2s;
      width: 11px;
      height: 11px;
    }

    .sparkle:nth-child(5) {
      top: 20%;
      left: 50%;
      animation-delay: 1.6s;
      width: 13px;
      height: 13px;
    }

    .sparkle:nth-child(6) {
      top: 85%;
      left: 40%;
      animation-delay: 0.3s;
      width: 9px;
      height: 9px;
    }

    .sparkle:nth-child(7) {
      top: 45%;
      left: 90%;
      animation-delay: 1.0s;
      width: 15px;
      height: 15px;
    }

    .sparkle:nth-child(8) {
      top: 65%;
      left: 10%;
      animation-delay: 1.8s;
      width: 12px;
      height: 12px;
    }

    .sparkle:nth-child(9) {
      top: 8%;
      left: 65%;
      animation-delay: 0.6s;
      width: 10px;
      height: 10px;
    }

    .sparkle:nth-child(10) {
      top: 40%;
      left: 55%;
      animation-delay: 2.0s;
      width: 14px;
      height: 14px;
    }

    .sparkle:nth-child(11) {
      top: 90%;
      left: 85%;
      animation-delay: 1.4s;
      width: 11px;
      height: 11px;
    }

    .sparkle:nth-child(12) {
      top: 75%;
      left: 35%;
      animation-delay: 0.2s;
      width: 13px;
      height: 13px;
    }

    /* Glass shine sweep */
    .shine-overlay {
      position: absolute;
      top: 0;
      left: -60%;
      width: 40%;
      height: 100%;
      background: linear-gradient(105deg,
          transparent 0%,
          rgba(255, 255, 255, 0.05) 30%,
          rgba(255, 255, 255, 0.15) 50%,
          rgba(255, 255, 255, 0.05) 70%,
          transparent 100%);
      animation: shine-sweep 4s ease-in-out infinite;
      pointer-events: none;
    }

    @keyframes shine-sweep {
      0% {
        left: -60%;
      }

      50% {
        left: 120%;
      }

      100% {
        left: 120%;
      }
    }

    /* Button shake */
    .shake-btn {
      animation: shake 2.5s ease-in-out infinite;
      cursor: pointer;
    }

    @keyframes shake {

      0%,
      70%,
      100% {
        transform: translateX(0);
      }

      75% {
        transform: translateX(-12px) rotate(-3deg);
      }

      80% {
        transform: translateX(10px) rotate(2deg);
      }

      85% {
        transform: translateX(-8px) rotate(-2deg);
      }

      90% {
        transform: translateX(6px) rotate(1deg);
      }

      95% {
        transform: translateX(-3px);
      }
    }

    /* ===== PAGE TRANSITIONS ===== */
    section {
      will-change: transform, opacity;
    }

    section.page-enter {
      animation: pageEnter 0.45s cubic-bezier(0.22, 1, 0.36, 1) forwards;
    }

    section.page-exit {
      animation: pageExit 0.3s cubic-bezier(0.4, 0, 1, 1) forwards;
      pointer-events: none;
    }

    @keyframes pageEnter {
      0% {
        opacity: 0;
        transform: scale(0.92) translateY(60px);
      }
      100% {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }

    @keyframes pageExit {
      0% {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
      100% {
        opacity: 0;
        transform: scale(0.95) translateY(-40px);
      }
    }

    /* ===== CARD ENTRANCE ===== */
    .swipe-card.card-enter {
      animation: cardEnter 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    @keyframes cardEnter {
      0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.7);
      }
      100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }
    }

    /* ===== SMOOTHER CARD SWIPE (GPU accelerated) ===== */
    .swipe-card.animating {
      transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.35s cubic-bezier(0.4, 0, 0.2, 1);
      will-change: transform, opacity;
    }

    /* ===== TIMER URGENCY ===== */
    .timer-display.timer-urgent {
      animation: timerPulse 0.6s cubic-bezier(0.4, 0, 0.6, 1) infinite;
      color: #ef4444 !important;
    }

    @keyframes timerPulse {
      0%, 100% {
        transform: scale(1);
        opacity: 1;
      }
      50% {
        transform: scale(1.15);
        opacity: 0.7;
      }
    }

    /* Timer PNG flash when <=10s */
    .timer-img-flash {
      animation: timerImgFlash 1s ease-in-out infinite;
    }

    @keyframes timerImgFlash {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.3;
      }
    }

    /* ===== SCORE POP ===== */
    .score-display.score-pop {
      animation: scorePop 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    @keyframes scorePop {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.3);
      }
      100% {
        transform: scale(1);
      }
    }

    /* ===== WIN PAGE ANIMATIONS ===== */
    .win-logo {
      animation: winBounce 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.1s both;
    }

    .win-score-panel {
      animation: winSlideUp 0.5s cubic-bezier(0.22, 1, 0.36, 1) 0.25s both;
    }

    .win-badge {
      animation: winBadgePop 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) 0.5s both;
    }

    .win-glass {
      animation: winSlideUp 0.5s cubic-bezier(0.22, 1, 0.36, 1) 0.25s both;
    }

    @keyframes winBounce {
      0% {
        opacity: 0;
        transform: scale(0.3) translateY(80px);
      }
      100% {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }

    @keyframes winSlideUp {
      0% {
        opacity: 0;
        transform: translateY(60px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes winBadgePop {
      0% {
        opacity: 0;
        transform: scale(0) rotate(-15deg);
      }
      70% {
        transform: scale(1.1) rotate(3deg);
      }
      100% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
      }
    }

    /* Continuous shimmer on win badge */
    .win-badge-shimmer {
      animation: winBadgePop 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) 0.5s both,
                 badgeFloat 2.5s ease-in-out 1.2s infinite;
    }

    @keyframes badgeFloat {
      0%, 100% {
        transform: translateY(0) scale(1);
      }
      50% {
        transform: translateY(-12px) scale(1.03);
      }
    }

    /* ===== LOST PAGE ANIMATIONS ===== */
    .lose-logo {
      animation: loseFadeIn 0.5s ease-out 0.1s both;
    }

    .lose-score-panel {
      animation: loseFadeIn 0.5s ease-out 0.25s both;
    }

    .lose-badge {
      animation: loseShake 0.6s cubic-bezier(0.36, 0.07, 0.19, 0.97) 0.5s both;
    }

    .lose-glass {
      animation: loseFadeIn 0.5s ease-out 0.25s both;
    }

    @keyframes loseFadeIn {
      0% {
        opacity: 0;
        transform: translateY(30px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes loseShake {
      0% {
        opacity: 0;
        transform: translateX(0) scale(0.8);
      }
      20% {
        opacity: 1;
        transform: translateX(-18px) scale(1);
      }
      40% {
        transform: translateX(14px);
      }
      60% {
        transform: translateX(-8px);
      }
      80% {
        transform: translateX(4px);
      }
      100% {
        opacity: 1;
        transform: translateX(0);
      }
    }

    /* ===== PROGRESS BAR ANIMATED FILL ON RESULT PAGES ===== */
    .progress-fill.animate-fill {
      animation: progressGrow 1s cubic-bezier(0.22, 1, 0.36, 1) 0.6s both;
    }

    .heart-marker.animate-fill {
      animation: heartSlide 1s cubic-bezier(0.22, 1, 0.36, 1) 0.6s both;
    }
  </style>
</head>

<body ng-controller="MainCtrl" style="background: url(./png/bg.png);">

  <section ng-show="page == 1" style="position: relative; width: 1080px; height: 1920px;">
    <div class="sparkle-container">
      <div class="shine-overlay"></div>
      <div class="sparkle"></div>
      <div class="sparkle"></div>
      <div class="sparkle"></div>
      <div class="sparkle"></div>
      <div class="sparkle"></div>
      <div class="sparkle"></div>
      <div class="sparkle"></div>
      <div class="sparkle"></div>
      <div class="sparkle"></div>
      <div class="sparkle"></div>
      <div class="sparkle"></div>
      <div class="sparkle"></div>
    </div>
    <div style="display: flex; flex-direction: column; align-items: center; margin-top: 280px;">
      <img style="width: 400px;" src="./img/Asset 2.png" />
      <img ng-click="pg_up()" class="shake-btn" style="margin-top: 180px;" src="./png/home_text.png">
    </div>
  </section>

  <section ng-show="page == 2" style="width: 1080px; height: 1920px;">
    <div style="display: flex; flex-direction: column; align-items: center; margin-top: 80px;">
      <img style="width: 400px;" src="./img/Asset 2.png" />
      <div
        style="display: flex; flex-direction: column; text-align: center;  gap: 40px; margin-top: 100px; width: 80%;">
        <span style="font-size: 80px; color: #931c51; font-family: 'Berkshire Swash', cursive;">NAME</span>
        <input class="focus:outline-none border-none "
          style="font-size: 60px; text-align: center; padding: 20px 0; border-radius: 40px; color: #931c51; text-transform: uppercase; font-weight: bold;"
          type="text" />
        <span style="font-size: 80px; color: #931c51; font-family: 'Berkshire Swash', cursive;">Mobile No.</span>
        <input class="focus:outline-none border-none "
          style="font-size: 60px; text-align: center; padding: 20px 0; border-radius: 40px; color: #931c51; text-transform: uppercase; font-weight: bold;"
          type="text" />
      </div>
      <img ng-click="startGame()" style="margin-top: 180px;" src="./png/start_btn.png">
    </div>
  </section>

  <section ng-show="page == 3" style="position: relative; width: 1080px; height: 1920px;">
    <div class="game-area">
      <div style="display: flex; flex-direction: column; align-items: center; padding-top: 60px; width: 100%;">
        <img class="timer-img" src="./png/timer.png" />
        <div class="timer-display">00:{{ (timer < 10) ? '0' + timer : timer }}</div>
        <img style="margin: 100px 0;" src="./png/glass_board.png" />
        <img style="position: absolute; top: 330px; left: 422px;" src="./png/progress_panel_score.png">
        <div class="score-display">
          <span style="margin-right: 15px;">{{score}}</span>
          <span>{{currentCardIndex + (currentCardIndex < cards.length ? 1 : 0)}}</span>
        </div>
        </div>
        <div style="margin-top: -234px; margin-left: 212px;">
          <div class="progress-wrapper">
            <div class="progress-track"></div>

            <div class="progress-fill" ng-class="{'full': currentCardIndex === 12}"
              ng-style="{ width: getPercentage() + '%' }">
            </div>

            <div class="heart-marker" ng-style="{ left: getPercentage() + '%' }">
              <svg viewBox="0 0 32 29.6" xmlns="http://www.w3.org/2000/svg">
                <path d="M23.6,0c-3.4,0-6.3,2.7-7.6,5.6C14.7,2.7,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4c0,9.4,9.5,11.9,16,21.2
                c6.1-9.3,16-11.8,16-21.2C32,3.8,28.2,0,23.6,0z" />
              </svg>
            </div>
          </div>
        </div>
        <img ng-click="swipeCard('left')" src="./png/razor.png" class="side-indicator left" />
        <img ng-click="swipeCard('right')" src="./png/veet.png" class="side-indicator right" />
        <div style="position: absolute; top: 830px; left: 273px;">
          <img style="transform: scaleX(-1); padding-left: 130px; width: 150px;" src="./png/arrow.png" />
          <img style="width: 150px;" src="./png/arrow.png" />
        </div>
        <div ng-if="currentCard">
          <img id="swipe-card" class="swipe-card" ng-src="{{currentCard.image}}" />
        </div>
      </div>
  </section>

  <section ng-show="page == 4" style="position: relative; width: 1080px; height: 1920px;">
    <div style="display: flex; flex-direction: column; align-items: center; margin-top: 120px;">
      <img class="win-logo" style="width: 400px;" src="./img/Asset 2.png" />
      <img class="win-score-panel" style="margin-top: 120px;" src="./png/score_panel.png" />
      <span class="win-score-panel" style="position: absolute;top: 528px; left: 681px; margin-right: 15px; color: #921b51; font-size: 50px;">{{score}}</span>
      <div class="win-score-panel" style="position: absolute; top: 608px; left: 140px; width: 800px;">
        <div class="progress-wrapper" style="width: 100%; max-width: 800px;">
          <div class="progress-track"></div>
          <div class="progress-fill animate-fill" ng-class="{'full': score === cards.length}"
            ng-style="{ width: getPercentage() + '%' }">
          </div>
          <div class="heart-marker animate-fill" ng-style="{ left: getPercentage() + '%' }">
            <svg viewBox="0 0 32 29.6" xmlns="http://www.w3.org/2000/svg">
              <path d="M23.6,0c-3.4,0-6.3,2.7-7.6,5.6C14.7,2.7,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4c0,9.4,9.5,11.9,16,21.2
              c6.1-9.3,16-11.8,16-21.2C32,3.8,28.2,0,23.6,0z" />
            </svg>
          </div>
        </div>
      </div>
      <img class="win-badge-shimmer" style="width: 80%; margin-top: 342px;" src="./png/win.png" />
      <img class="win-glass" style="position: absolute; top: 466px; left: 97px;" src="./png/glass_board.png" />
    </div>
  </section>

  <section ng-show="page == 5" style="position: relative; width: 1080px; height: 1920px;">
    <div style="display: flex; flex-direction: column; align-items: center; margin-top: 120px;">
      <img class="lose-logo" style="width: 400px;" src="./img/Asset 2.png" />
      <img class="lose-score-panel" style="margin-top: 120px;" src="./png/score_panel.png" />
      <span class="lose-score-panel" style="position: absolute;top: 528px; left: 681px; margin-right: 15px; color: #921b51; font-size: 50px;">{{score}}</span>
      <div class="lose-score-panel" style="position: absolute; top: 608px; left: 140px; width: 800px;">
        <div class="progress-wrapper" style="width: 100%; max-width: 800px;">
          <div class="progress-track"></div>
          <div class="progress-fill animate-fill" ng-class="{'full': score === cards.length}"
            ng-style="{ width: getPercentage() + '%' }">
          </div>
          <div class="heart-marker animate-fill" ng-style="{ left: getPercentage() + '%' }">
            <svg viewBox="0 0 32 29.6" xmlns="http://www.w3.org/2000/svg">
              <path d="M23.6,0c-3.4,0-6.3,2.7-7.6,5.6C14.7,2.7,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4c0,9.4,9.5,11.9,16,21.2
              c6.1-9.3,16-11.8,16-21.2C32,3.8,28.2,0,23.6,0z" />
            </svg>
          </div>
        </div>
      </div>
      <img class="lose-badge" style="width: 80%; margin-top: 342px;" src="./png/lost.png" />
      <img class="lose-glass" style="position: absolute; top: 466px; left: 97px;" src="./png/glass_board.png" />
    </div>
  </section>


</body>

</html>